(this["webpackJsonpreact_redux-list-of-posts"]=this["webpackJsonpreact_redux-list-of-posts"]||[]).push([[0],{26:function(e,t,n){},27:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var c=n(8),s=n.n(c),a=n(6),r=n(18),i=n(0),o=(n(26),n(27),n(7)),u=n(5),l=n(2),j=n.n(l),d=(n(29),"USER_ID"),b="POST_ID",p="LOAD_POSTS",O="LOAD_COMMENTS",h="LOAD_POST_DETAIL",m=function(e){return{type:b,payload:e}},f=function(e){return{type:O,payload:e}},x=function(e){return e.userId},v=function(e){return e.selectedPostId},y=function(e){return e.posts},_=function(e){return e.postDetails},N=function(e){return e.comments},w="https://mate.academy/students-api/";function P(e){return D.apply(this,arguments)}function D(){return(D=Object(o.a)(j.a.mark((function e(t){var n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(w,"posts"),0!==t&&(n+="?userId=".concat(t)),e.next=4,fetch(n);case 4:return c=e.sent,e.abrupt("return",c.json());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){return C.apply(this,arguments)}function C(){return(C=Object(o.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(w,"posts/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){return g.apply(this,arguments)}function g(){return(g=Object(o.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(w,"comments?postId=").concat(t));case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return A.apply(this,arguments)}function A(){return(A=Object(o.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(w,"comments/").concat(t),e.abrupt("return",fetch(n,{method:"DELETE"}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e){return E.apply(this,arguments)}function E(){return(E=Object(o.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(w,"comments"),{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(30);var T=n(1),F=function(){return Object(T.jsx)("div",{className:"Loader",children:Object(T.jsx)("div",{className:"Loader__content"})})},z=function(e){var t=e.posts,n=e.initialize,c=e.selectedPostId,s=e.setSelectePostId;return Object(T.jsxs)("div",{className:"PostsList",children:[Object(T.jsx)("h2",{children:"Posts:"}),Object(T.jsx)("div",{children:n?Object(T.jsx)("ul",{className:"PostsList__list",children:t.map((function(e){return Object(T.jsxs)("li",{className:"PostsList__item",children:[Object(T.jsxs)("div",{children:[Object(T.jsx)("b",{children:"User #".concat(e.userId,": ")}),e.title]}),Object(T.jsx)("button",{type:"button",className:"PostsList__button button",onClick:function(){return s(e.id)},children:c===e.id?"Close":"Open"})]},e.id)}))}):Object(T.jsx)(F,{})})]})},H=function(){var e=Object(a.b)(),t=Object(a.c)(y),n=Object(a.c)(x),c=Object(a.c)(v),s=Object(i.useState)(!1),r=Object(u.a)(s,2),l=r[0],d=r[1],b=function(){var t=Object(o.a)(j.a.mark((function t(){var c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P(n);case 2:c=t.sent,e({type:p,payload:c}),d(!0);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(i.useEffect)((function(){d(!1),b()}),[n]),Object(T.jsx)(T.Fragment,{children:Object(T.jsx)(z,{posts:t,initialize:l,selectedPostId:c,setSelectePostId:function(t){e(m(c===t?0:t))}})})},M=n(15),G=n.n(M),J=n(9),R=n(3),V=(n(32),function(e){var t=e.body,n=e.name,c=e.email,s=e.handleOnChange,a=e.handleOnSubmit;return Object(T.jsxs)("form",{className:"NewCommentForm",children:[Object(T.jsx)("div",{className:"form-field",children:Object(T.jsx)("input",{type:"text",name:"name",value:n,placeholder:"Your name",className:"NewCommentForm__input",onChange:s})}),Object(T.jsx)("div",{className:"form-field",children:Object(T.jsx)("input",{type:"text",name:"email",value:c,placeholder:"Your email",className:"NewCommentForm__input",onChange:s})}),Object(T.jsx)("div",{className:"form-field",children:Object(T.jsx)("textarea",{name:"body",value:t,placeholder:"Type comment here",className:"NewCommentForm__input",onChange:s})}),Object(T.jsx)("button",{type:"button",className:"NewCommentForm__submit-button button",onClick:a,children:"Add a comment"})]})}),B=function(e){var t=e.handleAdd,n=e.selectedPostId,c=Object(i.useState)({name:"",email:"",body:"",postId:0}),s=Object(u.a)(c,2),a=s[0],r=s[1];return Object(T.jsx)(V,{handleOnChange:function(e){var t=e.target,n=t.name,c=t.value;r(Object(R.a)(Object(R.a)({},a),{},Object(J.a)({},n,c)))},handleOnSubmit:function(){var e=Object(R.a)(Object(R.a)({},a),{},{postId:n});r({name:"",email:"",body:"",postId:0}),t(e)},name:a.name,email:a.email,body:a.body})},U=function(e){var t=e.handleAdd,n=e.handleDelete,c=e.handleVisabiliti,s=e.selectedPostId,a=e.postDetails,r=e.initialize,i=e.isHidden,o=e.comments;return Object(T.jsx)("div",{className:"PostDetails",children:0!==s?Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("h2",{children:"Post details:"}),r?Object(T.jsx)(F,{}):Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("section",{className:"PostDetails__post",children:[Object(T.jsx)("p",{children:a.title}),Object(T.jsx)("br",{}),Object(T.jsx)("p",{children:a.body})]}),Object(T.jsxs)("section",{className:"PostDetails__comments",children:[Object(T.jsx)("button",{type:"button",className:"button",onClick:c,children:i?"Show ".concat(o.length," comments"):"Hide ".concat(o.length," comments")}),Object(T.jsx)("ul",{className:"PostDetails__list",children:o.map((function(e){return Object(T.jsxs)("li",{className:G()("PostDetails__list-item",{hide:i}),children:[Object(T.jsx)("button",{type:"button",className:"PostDetails__remove-button button",onClick:function(){return n(e.id)},children:"X"}),Object(T.jsx)("p",{children:e.body})]},e.id)}))})]})]}),Object(T.jsx)("section",{children:Object(T.jsx)("div",{className:"PostDetails__form-wrapper",children:Object(T.jsx)(B,{handleAdd:t,selectedPostId:s})})})]}):"No post selected"})},W=(n(33),function(){var e=Object(a.b)(),t=Object(a.c)(N),n=Object(a.c)(_),c=Object(a.c)(v),s=Object(i.useState)(!1),r=Object(u.a)(s,2),l=r[0],d=r[1],b=Object(i.useState)(!1),p=Object(u.a)(b,2),O=p[0],m=p[1],x=function(){var t=Object(o.a)(j.a.mark((function t(){var n,s,a,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0===c){t.next=11;break}return d(!0),t.next=4,Promise.all([I(c),S(c)]);case 4:n=t.sent,s=Object(u.a)(n,2),a=s[0],r=s[1],e({type:h,payload:a}),e(f(r)),d(!1);case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(i.useEffect)((function(){x()}),[c]);var y=function(){var e=Object(o.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(t);case 2:x();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(o.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t);case 2:x();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return n&&Object(T.jsx)(U,{isHidden:O,comments:t,initialize:l,postDetails:n,selectedPostId:c,handleAdd:w,handleDelete:y,handleVisabiliti:function(){m(!O)}})}),Y=function(){var e=Object(a.b)(),t=Object(a.c)(x);return Object(T.jsx)("header",{className:"App__header",children:Object(T.jsxs)("label",{children:["Select a user",Object(T.jsxs)("select",{className:"App__user-selector",value:t,onChange:function(t){var n=+t.target.value;e({type:d,payload:n})},children:[Object(T.jsx)("option",{value:"0",children:"All users"}),Object(T.jsx)("option",{value:"1",children:"Leanne Graham"}),Object(T.jsx)("option",{value:"2",children:"Ervin Howell"}),Object(T.jsx)("option",{value:"3",children:"Clementine Bauch"}),Object(T.jsx)("option",{value:"4",children:"Patricia Lebsack"}),Object(T.jsx)("option",{value:"5",children:"Chelsey Dietrich"}),Object(T.jsx)("option",{value:"6",children:"Mrs. Dennis Schulist"}),Object(T.jsx)("option",{value:"7",children:"Kurtis Weissnat"}),Object(T.jsx)("option",{value:"8",children:"Nicholas Runolfsdottir V"}),Object(T.jsx)("option",{value:"9",children:"Glenna Reichert"}),Object(T.jsx)("option",{value:"10",children:"Leanne Graham"})]})]})})},K=function(){return Object(T.jsxs)("div",{className:"App",children:[Object(T.jsx)(Y,{}),Object(T.jsxs)("main",{className:"App__main",children:[Object(T.jsx)("div",{className:"App__sidebar",children:Object(T.jsx)(H,{})}),Object(T.jsx)("div",{className:"App__content",children:Object(T.jsx)(W,{})})]})]})},X=n(10),q=n(16),Q=n(17),Z={posts:[],userId:0,comments:[],postDetails:null,selectedPostId:0},$=Object(X.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(R.a)(Object(R.a)({},e),{},{posts:t.payload});case d:return Object(R.a)(Object(R.a)({},e),{},{userId:t.payload});case O:return Object(R.a)(Object(R.a)({},e),{},{comments:t.payload});case h:return Object(R.a)(Object(R.a)({},e),{},{postDetails:t.payload});case b:return Object(R.a)(Object(R.a)({},e),{},{selectedPostId:t.payload});default:return e}}),Object(q.composeWithDevTools)(Object(X.applyMiddleware)(Q.a))),ee=$,te=function(){return Object(T.jsx)(a.a,{store:ee,children:Object(T.jsx)(r.a,{children:Object(T.jsx)(K,{})})})};s.a.render(Object(T.jsx)(te,{}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.d6dfbe97.chunk.js.map